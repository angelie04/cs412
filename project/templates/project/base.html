<!-- final project: base.html -->
<!-- Angelie Darbouze (angelie@bu.edu) 12/2/25 -->
<!-- This is the base template for the project -->

{% load static %}

<html>

<head>
    <title>Revize</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- My CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'project/styles.css' %}">
    <!-- Bootstrap Icons, did this for navbar icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
</head>

<body>
    <header>
        <nav class="navbar">
            <ul>
                <a href="{% url 'home' %}">Revize <i class="bi bi-house-door-fill"></i></a>
                <a href="{% url 'restaurant_list' %}">Restaurants <i class="bi bi-restaurant-fill"></i></a>
                <a href="{% url 'review' %}">Write a Review <i class="bi bi-restaurant-fill"></i></a>
            </ul>
            {% if request.user.is_authenticated %}
            <div class="nav-actions">
                <!-- Showing profile avatar if available -->
                {% if profile and profile.profile_image %}
                <a href="{% url 'profile_detail' profile.pk %}" class="nav-avatar-link">
                    <img src="{{ profile.profile_image.url }}" alt="{{ request.user.username }}" class="nav-avatar">
                </a>
                {% elif request.user.revize_profile.profile_image.url %}
                <a href="{% url 'profile_detail' request.user.revize_profile.pk %}" class="nav-avatar-link">
                    <img src="{{ request.user.revize_profile.profile_image.url }}" alt="{{ request.user.username }}"
                        class="nav-avatar">
                </a>
                {% endif %}
                <form action="{% url 'logout' %}" method="post" class="d-inline logout-form">
                    {% csrf_token %}
                    <button type="submit" class="btn">Logout</button>
                </form>
            </div>
            {% else %}
            <a class="btn btn-outline-primary btn-sm me-2" href="{% url 'login' %}">Login</a>
            <a class="btn btn-outline-primary btn-sm" href="{% url 'signup' %}">Sign Up</a>
            {% endif %}
        </nav>
    </header>

    <!-- subsitute specific content for each page here -->
    {% block content %}
    {% endblock %}

</body>

</html>